/* ==========================================================================
   DIMMS Lab – Custom (lean + deterministic)
   This file compiles last (via assets/css/main.scss -> "custom"),
   so these rules win over theme defaults.
   ========================================================================== */

/* ------------------  MODERNIZED COLOR PALETTE  ------------------ */
/* Deep Navy/Slate Blue Theme - sophisticated academic aesthetic */

// Primary Colors - Deep Navy/Slate (replaces harsh red)
$navy-primary: #1e3a5f;        // Main header background
$navy-dark: #152a45;           // Darker variant for footer
$navy-light: #2d4a6f;          // Lighter variant for accents

// Accent Colors - Refined Gold & Teal
$accent-gold: #c9a227;         // Muted gold (subtle York connection)
$accent-gold-light: #d4b23d;   // Lighter gold for hover states
$accent-teal: #0097a7;         // Links/highlights
$accent-teal-light: #00acc1;   // Lighter teal for hover
$accent-teal-dark: #00796b;    // Darker teal for emphasis

// Legacy variable mappings (for compatibility)
$york-red: $navy-primary;
$york-gold: $accent-gold;
$dimms-cyan: $accent-teal-light;
$dimms-teal: $accent-teal;
$accent-blue: #3498db;
$dark-gray: #2c3e50;
$light-gray: #f8f9fa;

// Gradients
$gradient-primary: linear-gradient(135deg, $navy-primary 0%, $navy-light 100%);
$gradient-secondary: linear-gradient(135deg, $accent-teal 0%, $accent-teal-dark 100%);

/* Optional modern typography */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');

body {
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
  line-height: 1.7;
  color: #333;
}

/* ==========================================================================
   A) GLOBAL TOP-GAP FIXES (header/body/main/content)
   ========================================================================== */

/* Theme sometimes reserves space for a fixed masthead. We don't. */
body { padding-top: 0 !important; }

/* Keep the header tight; we’re using a static (relative) masthead. */
.masthead { margin-bottom: 0 !important; }

/* Remove any hero band if a page declares it. */
.page__hero,
.page__hero--overlay {
  display: none !important;
  margin: 0 !important;
  padding: 0 !important;
  min-height: 0 !important;
}

/* Main wrapper and article header must start flush under the masthead. */
#main { margin-top: 0 !important; padding-top: 0 !important; }
article.page > header { margin-top: 0 !important; padding-top: 0 !important; }

/* Inner wrappers/content should not add top spacing. */
.page__inner-wrap,
.page__content { margin-top: 0 !important; padding-top: 0 !important; }

/* Trim the first real element (prevents H1/H2/figure bumps). */
.page__content > *:first-child,
.page__inner-wrap > header:first-child {
  margin-top: 0 !important; padding-top: 0 !important;
}

/* Page title: a small, consistent offset looks polished. */
.page__title { margin-top: 0.25rem !important; }

/* Slightly gentler defaults for other headings elsewhere. */
h1, h2, h3, h4, h5, h6 { margin: 1.2em 0 0.5em; }
h1 { color: $york-red; }

/* ==========================================================================
   B) SIDEBAR – align with header, never reserve masthead height
   ========================================================================== */

/* Kill all top spacing on the sidebar itself. */
.sidebar { margin-top: 0 !important; padding-top: 0 !important; }

/* Make the sidebar sticky in normal flow; never fixed. */
.sidebar { position: sticky !important; top: 0.75rem !important; }

/* Some builds attach a generic .sticky utility – neutralize if present. */
.sidebar.sticky,
.sticky { position: sticky !important; top: 0.75rem !important; }

/* If the HTML happens to be "#main > .sidebar", keep it tight too. */
#main > .sidebar { margin-top: 0 !important; padding-top: 0 !important; }

/* Sidebar internals shouldn't introduce a top bump. */
.sidebar .author__avatar,
.sidebar .author__content,
.sidebar .author__urls-wrapper { margin-top: 0 !important; }

/* ==========================================================================
   C) NAV – ensure visibility; keep your color choices
   ========================================================================== */

.masthead,
.masthead__inner-wrap,
.masthead__menu,
.greedy-nav {
  background-color: $york-red !important;
  background-image: none !important;
}

/* Site title */
.masthead__menu-item--lg a {
  color: #ffffff !important;
  text-decoration: none !important;
  font-weight: 700 !important;
  letter-spacing: 0.5px !important;
  transition: color 0.25s ease !important;
  &:hover { color: $accent-gold-light !important; }
}

/* Navigation links - clean white on navy */
.masthead .greedy-nav a,
.masthead .visible-links a,
.masthead .masthead__menu-item a,
.greedy-nav .visible-links .masthead__menu-item a {
  color: rgba(255, 255, 255, 0.9) !important;
  text-decoration: none !important;
  font-weight: 500 !important;
  transition: all 0.25s ease !important;
  &:hover {
    color: #ffffff !important;
    background: rgba(255, 255, 255, 0.1) !important;
  }
}

/* Focus states for accessibility */
.masthead a:focus,
.greedy-nav a:focus {
  outline: 2px solid $accent-gold !important;
  outline-offset: 2px !important;
}

/* ==========================================================================
   D) NICE-TO-HAVES (kept minimal and safe)
   ========================================================================== */

a {
  color: $accent-teal;
  text-decoration: none;
  transition: all .2s ease;
  &:hover { color: $navy-primary; text-decoration: underline; }
}

/* Optional: small visual underline for main H1 */
h1.page__title {
  position: relative;
  padding-bottom: 12px;
  margin-bottom: 24px;
  &::after {
    content: '';
    position: absolute;
    left: 0; bottom: 0;
    width: 60px; height: 3px;
    background: $gradient-secondary;
    border-radius: 2px;
  }
}

/* ==========================================================================
   E) LAST-RESORT PIN (keep at bottom so it wins)
   ========================================================================== */

.initial-content,
.layout--single .page__inner-wrap,
.layout--single .page__content,
.page,
.page__inner-wrap,
.page__content {
  margin-top: 0 !important;
  padding-top: 0 !important;
}
