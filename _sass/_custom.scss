/* ==========================================================================
   DIMMS Lab – Custom (lean + deterministic)
   This file compiles last (via assets/css/main.scss -> "custom"),
   so these rules win over theme defaults.
   ========================================================================== */

/* ------------------  Brand palette (safe to keep)  ------------------ */
$york-red: #8B0000;
$york-gold: #FFD700;
$dimms-cyan: #00bcd4;
$dimms-teal: #0097a7;
$accent-blue: #3498db;
$dark-gray: #2c3e50;
$light-gray: #f8f9fa;
$gradient-primary: linear-gradient(135deg, #8B0000 0%, #B22222 100%);
$gradient-secondary: linear-gradient(135deg, #00bcd4 0%, #0097a7 100%);

/* Optional modern typography */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');

body {
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
  line-height: 1.7;
  color: #333;
}

/* ==========================================================================
   A) GLOBAL TOP-GAP FIXES (header/body/main/content)
   ========================================================================== */

/* Theme sometimes reserves space for a fixed masthead. We don't. */
body { padding-top: 0 !important; }

/* Keep the header tight; we’re using a static (relative) masthead. */
.masthead { margin-bottom: 0 !important; }

/* Remove any hero band if a page declares it. */
.page__hero,
.page__hero--overlay {
  display: none !important;
  margin: 0 !important;
  padding: 0 !important;
  min-height: 0 !important;
}

/* Main wrapper and article header must start flush under the masthead. */
#main { margin-top: 0 !important; padding-top: 0 !important; }
article.page > header { margin-top: 0 !important; padding-top: 0 !important; }

/* Inner wrappers/content should not add top spacing. */
.page__inner-wrap,
.page__content { margin-top: 0 !important; padding-top: 0 !important; }

/* Trim the first real element (prevents H1/H2/figure bumps). */
.page__content > *:first-child,
.page__inner-wrap > header:first-child {
  margin-top: 0 !important; padding-top: 0 !important;
}

/* Page title: a small, consistent offset looks polished. */
.page__title { margin-top: 0.25rem !important; }

/* Slightly gentler defaults for other headings elsewhere. */
h1, h2, h3, h4, h5, h6 { margin: 1.2em 0 0.5em; }
h1 { color: $york-red; }

/* ==========================================================================
   B) SIDEBAR – align with header, never reserve masthead height
   ========================================================================== */

/* Kill all top spacing on the sidebar itself. */
.sidebar { margin-top: 0 !important; padding-top: 0 !important; }

/* Make the sidebar sticky in normal flow; never fixed. */
.sidebar { position: sticky !important; top: 0.75rem !important; }

/* Some builds attach a generic .sticky utility – neutralize if present. */
.sidebar.sticky,
.sticky { position: sticky !important; top: 0.75rem !important; }

/* If the HTML happens to be "#main > .sidebar", keep it tight too. */
#main > .sidebar { margin-top: 0 !important; padding-top: 0 !important; }

/* Sidebar internals shouldn't introduce a top bump. */
.sidebar .author__avatar,
.sidebar .author__content,
.sidebar .author__urls-wrapper { margin-top: 0 !important; }

/* ==========================================================================
   C) NAV – ensure visibility; keep your color choices
   ========================================================================== */

.masthead,
.masthead__inner-wrap,
.masthead__menu,
.greedy-nav {
  background-color: $york-red !important;
  background-image: none !important;
}

.masthead__menu-item--lg a,
.masthead .greedy-nav a,
.masthead .visible-links a,
.masthead .masthead__menu-item a,
.greedy-nav .visible-links .masthead__menu-item a {
  color: $york-gold !important;
  text-decoration: none !important;
  font-weight: 700 !important;
  text-shadow: 2px 2px 4px rgba(0,0,0,.8) !important;
}

/* ==========================================================================
   D) NICE-TO-HAVES (kept minimal and safe)
   ========================================================================== */

a {
  color: $dimms-cyan;
  text-decoration: none;
  transition: all .2s ease;
  &:hover { color: $york-red; text-decoration: underline; }
}

/* Optional: small visual underline for main H1 */
h1.page__title {
  position: relative;
  padding-bottom: 12px;
  margin-bottom: 24px;
  &::after {
    content: '';
    position: absolute;
    left: 0; bottom: 0;
    width: 60px; height: 3px;
    background: $gradient-secondary;
    border-radius: 2px;
  }
}

/* ==========================================================================
   E) LAST-RESORT PIN (keep at bottom so it wins)
   ========================================================================== */

.initial-content,
.layout--single .page__inner-wrap,
.layout--single .page__content,
.page,
.page__inner-wrap,
.page__content {
  margin-top: 0 !important;
  padding-top: 0 !important;
}
