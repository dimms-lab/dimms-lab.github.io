{% include base_path %}

<meta charset="utf-8">

{% include seo.html %}

<link href="{% if site.atom_feed.path %}{{ site.atom_feed.path }}{% else %}{{ base_path }}/feed.xml{% endif %}" type="application/atom+xml" rel="alternate" title="{{ site.title }} Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="{{ base_path }}/assets/css/main.css">

<!-- Critical footer positioning fix - loaded last to override theme -->
<link rel="stylesheet" href="{{ base_path }}/assets/css/footer-fix.css">

<!-- Critical footer positioning JavaScript - runs immediately -->
<script src="{{ base_path }}/assets/js/footer-fix.js"></script>

<!-- EMERGENCY SPACING FIX - INLINE CSS TO OVERRIDE EVERYTHING -->
<style>
/* CRITICAL: Remove massive gap between header and content */
/* The theme adds padding: 70px 0 0 to body - this removes it */
body {
    padding: 0 !important;
    padding-top: 0 !important;
    padding-bottom: 0 !important;
    margin: 0 !important;
    /* Override theme's $masthead-height (70px) padding specifically */
    padding-left: 0 !important;
    padding-right: 0 !important;
}

/* TARGET THE CORRECT CONTAINER - #main is the key */
#main {
    margin-top: 15px !important;  /* Small professional gap after header */
    padding-top: 0 !important;
    margin-bottom: 0 !important;
    padding-bottom: 0 !important;
}

/* Remove padding from the article container */
.page {
    margin-top: 0 !important;
    padding-top: 0 !important;
}

/* Content section inside the article */
.page__content {
    margin-top: 0 !important;
    padding-top: 0 !important;
}

/* Remove any wrapper padding */
.page__inner-wrap {
    margin-top: 0 !important;
    padding-top: 0 !important;
}

/* Header inside the article */
.page header {
    margin-top: 0 !important;
    padding-top: 0 !important;
    margin-bottom: 15px !important;
}

/* Force immediate application */
* {
    box-sizing: border-box;
}

/* DIRECT OVERRIDE of theme's _base.scss body padding rule */
html body,
body.layout--single,
body {
    padding: 0 !important;
    padding-top: 0 !important;
    margin: 0 !important;
}
</style>

<!-- IMMEDIATE JAVASCRIPT FIX FOR SPACING -->
<script>
// Execute immediately when script loads
(function() {
    console.log('EMERGENCY SPACING FIX: Removing header gap...');
    
    function removeHeaderGap() {
        // Force body padding to zero - override the theme's 70px padding
        if (document.body) {
            document.body.style.cssText += `
                padding: 0 !important;
                padding-top: 0 !important;
                padding-bottom: 0 !important;
                padding-left: 0 !important;
                padding-right: 0 !important;
                margin: 0 !important;
            `;
            
            // Also set direct style properties as backup
            document.body.style.padding = '0';
            document.body.style.paddingTop = '0';
            document.body.style.paddingBottom = '0';
            document.body.style.paddingLeft = '0';
            document.body.style.paddingRight = '0';
            document.body.style.margin = '0';
        }
        
        // Fix content containers - TARGET THE RIGHT ELEMENTS
        const mainEl = document.querySelector('#main');
        if (mainEl) {
            mainEl.style.cssText += 'margin-top: 15px !important; padding-top: 0 !important; margin-bottom: 0 !important; padding-bottom: 0 !important;';
        }
        
        const pageEl = document.querySelector('.page');
        if (pageEl) {
            pageEl.style.cssText += 'margin-top: 0 !important; padding-top: 0 !important;';
        }
        
        const pageContent = document.querySelector('.page__content');
        if (pageContent) {
            pageContent.style.cssText += 'margin-top: 0 !important; padding-top: 0 !important;';
        }
        
        const pageInnerWrap = document.querySelector('.page__inner-wrap');
        if (pageInnerWrap) {
            pageInnerWrap.style.cssText += 'margin-top: 0 !important; padding-top: 0 !important;';
        }
        
        const pageHeader = document.querySelector('.page header');
        if (pageHeader) {
            pageHeader.style.cssText += 'margin-top: 0 !important; padding-top: 0 !important; margin-bottom: 15px !important;';
        }
        
        console.log('Header gap removal completed');
    }
    
    // Try immediately
    removeHeaderGap();
    
    // Try when DOM loads
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', removeHeaderGap);
    }
    
    // Try when everything loads
    window.addEventListener('load', removeHeaderGap);
    
    // Keep trying for 3 seconds
    const intervalId = setInterval(removeHeaderGap, 100);
    setTimeout(function() {
        clearInterval(intervalId);
    }, 3000);
})();
</script>

<meta http-equiv="cleartype" content="on">